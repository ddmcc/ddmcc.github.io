---
layout: post
title:  "çˆ¬å–ç½‘æ˜“äº‘çš„ç”¨æˆ·,è¯„è®º,æ­Œæ›²ç­‰ç­‰"
date:   2018-04-24 18:24:21
categories: Crawl
tags: Crawl çˆ¬è™«
author: ddmcc
---

* content
{:toc}




## åŠ¨æœº

è§‰å¾—å¯ä»¥çˆ¬å–å¾ˆå¤šçš„ç”¨æˆ·ï¼Œè¯„è®ºï¼Œæ­Œæ›²ï¼Œç„¶åå¯¹è¿™äº›æ•°æ®è¿›è¡Œåˆ†æï¼Œä¼š
å¾ˆæœ‰æ„æ€ï¼Œå°±å¼€å§‹äº†ã€‚

## è¿‡ç¨‹
- è·å–APIæ¥å£
- åˆ†æAPIæ¥å£
- è°ƒç”¨æ¥å£è·å–æ•°æ®
- è§£ææ•°æ®ï¼ŒæŒä¹…åŒ–


### è·å–APIæ¥å£
è¦è·å–æ•°æ®ï¼Œé¦–å…ˆè¦çŸ¥é“å®ƒçš„è¯·æ±‚æ¥å£ã€‚é¦–å…ˆæ‰“å¼€ä¸€ä¸ªæ­Œå•

![](http://ww1.sinaimg.cn/large/0060GLrDgy1fqny0qy5luj30n20npn1i.jpg)




æ‰“å¼€NetWorkæŸ¥çœ‹è¿æ¥ï¼Œå‘ç°æœ‰ä¸ªè·å–åˆ—è¡¨çš„è¯·æ±‚ï¼Œ`playlistï¼Ÿid=924680166`ï¼Œè¿˜æ˜¯ä¸ª **GET** è¯·æ±‚ï¼Œå¯ä»¥åœ¨urlçœ‹è§å‚æ•°

![](http://ww1.sinaimg.cn/large/0060GLrDgy1fqny3wgj85j30m301b743.jpg)

![](http://ww1.sinaimg.cn/large/0060GLrDgy1fqny6hnen3j30r20bawfx.jpg)

è¿™æ ·çš„è¯ï¼Œå¯»æ‰¾åˆ°å…¶ä»–çš„æ¥å£ï¼ŒæŒ‰ç…§å®ƒçš„å‚æ•°æ ¼å¼å»è°ƒç”¨ï¼Œä¸å°±okäº†ï¼Ÿèµ°ä½ 

éšä¾¿ç‚¹è¿›ä¸€é¦–æ­Œï¼Œå¯»æ‰¾è·å–è¯„è®ºå’Œæ’­æ”¾çš„æ¥å£ã€‚ç‚¹è¿›å»ä¹‹åçš„åœ°å€æ 

![](http://ww1.sinaimg.cn/large/0060GLrDgy1fqnypd68zxj309700x3yb.jpg)

idåº”è¯¥å°±æ˜¯æ­Œæ›²çš„idäº†ï¼Œ`id=553543014` ï¼ŒæŸ¥çœ‹è¯·æ±‚

å‘ç°äº†ä¸€ä¸ªåº”è¯¥æ˜¯è·å–è¯„è®ºçš„ `Ajax` è¯·æ±‚ï¼Œå¹¶ä¸”æ˜¯ **POST**ï¼Œè¯´æ˜å‚æ•°æ˜¯ä»¥é™„ä»¶çš„å½¢å¼ä¼ é€è¿‡å»äº†

![](http://ww1.sinaimg.cn/large/0060GLrDgy1fqnyqnemv0j309201aglf.jpg)

æŸ¥çœ‹å®ƒçš„è¯·æ±‚å‚æ•°ï¼Œå‘ç°äº† **params** å’Œ **encSecKey** ä¸¤ä¸ªå‚æ•°ï¼Œåé¢è·Ÿç€ä¸€ä¸²çš„ç»è¿‡åŠ å¯†ä¹‹åçš„å‚æ•°ï¼ï¼
å¤§å‚å°±æ˜¯å¤§å‚å•Š....é‚£æˆ‘å’‹çŸ¥é“å®ƒæ˜¯æ€ä¹ˆåŠ å¯†çš„å•Šï¼Ÿ æŸ¥ä¹‹ï¼

![](http://ww1.sinaimg.cn/large/0060GLrDgy1fqnys8h6twj30hf0f4401.jpg)


### åˆ†æAPIæ¥å£

åœ¨ [æŸä¹](https://www.zhihu.com/question/36081767) å‘ç°æœ‰å¥½å¤šå¤§ç‰›éƒ½å¯¹æ¥å£çš„è¯·æ±‚å‚æ•°è¿›è¡Œäº†åˆ†æï¼Œå…¶ä¸­
æœ‰ä¸€ä¸ªæ›´æ˜¯ç›´æ¥ç”¨Javaå†…ç½®çš„ScriptEngineè°ƒç”¨JSå¼•æ“æ¥è§£æï¼Œ[ä»€ä¹ˆæ˜¯ScriptEngineï¼Ÿ](https://blog.csdn.net/u012660667/article/details/49821811)ï¼Œå¹¶ä¸”æŠŠä¸¤ä¸‡å¤šè¡Œ
çš„core.jsä»£ç ç¼©å‡åˆ°åªæœ‰ä¸€åƒå¤šè¡Œï¼Œè¿™æ ·å°±ç®€å•äº†ï¼Œç›´æ¥ç”¨Javaä»£ç å°±å¯ä»¥å¯¹å‚æ•°è¿›è¡ŒåŠ å¯†ï¼Œç„¶åè¿›è¡Œæ¥å£çš„è°ƒç”¨ã€‚

é€šè¿‡è¿™ä½å¤§ç‰›å¯¹core.jsä»£ç çš„ä¿®æ”¹ï¼Œå¯¹å¤–æä¾›äº†ä¸€ä¸ª **`myFunc`** è¿™ä¹ˆä¸€ä¸ªå…¥å£å‡½æ•°ï¼Œåªéœ€è¦è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼ŒæŠŠå‚æ•°ä¼ å…¥ï¼Œå°±å¯ä»¥å¾—åˆ°
ç»è¿‡åŠ å¯†çš„æ‰“åŒ…å‚æ•°äº†ã€‚

```js
public class JSSecret {
    private static Invocable inv;
    public static final String encText = "encText";
    public static final String encSecKey = "encSecKey";

    /**
     * ä»æœ¬åœ°åŠ è½½ä¿®æ”¹åçš„ core.js æ–‡ä»¶åˆ° ScriptEngine
     */
    static {
        try {
            Path path = Paths.get("core.js");
            byte[] bytes = Files.readAllBytes(path);
            String js = new String(bytes);
            ScriptEngineManager factory = new ScriptEngineManager();
            ScriptEngine engine = factory.getEngineByName("JavaScript");
            engine.eval(js);
            inv = (Invocable) engine;
            System.out.println("Init completed");
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    public static ScriptObjectMirror get_params(String paras) throws Exception {
        ScriptObjectMirror so = (ScriptObjectMirror) inv.invokeFunction("myFunc", paras);
        return so;
    }

    public static HashMap<String, String> getDatas(String paras) {
        try {
            ScriptObjectMirror so = (ScriptObjectMirror) inv.invokeFunction("myFunc", paras);
            HashMap<String, String> datas = new HashMap<>();
            datas.put("params", so.get(JSSecret.encText).toString());
            datas.put("encSecKey", so.get(JSSecret.encSecKey).toString());
            return datas;
        } catch (Exception e) {
            e.printStackTrace();
            return null;
        }
    }
}
```

ä»æœ¬åœ°è¯»å– `core.js` æ–‡ä»¶ï¼Œä¼ å…¥parametersï¼Œè·å–ç»è¿‡åŠ å¯†çš„æ‰“åŒ…datasã€‚

### è°ƒç”¨æ¥å£è·å–æ•°æ®

è·å–åŠ å¯†çš„å‚æ•°ä¹‹åå°±å¯ä»¥å¯¹æ¥å£è¿›è¡Œè°ƒç”¨ï¼Œæ¥è·å–æˆ‘ä»¬æƒ³è¦çš„æ•°æ®äº†ã€‚

APiå¯¹åº”æ¥å£çš„å‚æ•°ç±»

```js
package netease;

public class Api {

	private final static String BaseURL = "http://music.163.com/";

	/**
	 * è·å–ç”¨æˆ·æ­Œå•
	 *
	 * @param uid
	 * @return
	 */
	public static UrlParamPair getPlaylistOfUser(String uid) {
        UrlParamPair upp = new UrlParamPair();
        upp.setUrl(BaseURL + "weapi/user/playlist?csrf_token=");
        upp.addPara("uid", uid);
        upp.addPara("limit", 10);
        upp.addPara("offset",0);
        upp.addPara("csrf_token", "nothing");
        return upp;
    }
	 

	/**
	 * è·å–æ­Œå•è¯¦æƒ…
	 *
	 * @param playlist_id
	 * @return
	 */
	 public static UrlParamPair getDetailOfPlaylist(String playlist_id) {
	        UrlParamPair upp = new UrlParamPair();
	        upp.setUrl(BaseURL + "weapi/v3/playlist/detail?csrf_token=");
	        upp.addPara("id", playlist_id);
	        upp.addPara("offset", 0);
	        upp.addPara("total", "True");
	        upp.addPara("limit", 1000);
	        upp.addPara("n", 1000);
	        upp.addPara("csrf_token", "nothing");
	        return upp;
	    }

	// todo:analyse more api
	/**
	 * æœç´¢æ­Œæ›²
	 *
	 * @param s
	 *            ;
	 * @return
	 */
	public static UrlParamPair SearchMusicList(String s, String type) {
		UrlParamPair upp = new UrlParamPair();
		upp.addPara("s", s);
		upp.addPara("type", type);
		upp.addPara("offset", 0);
		upp.addPara("total", "True");
		upp.addPara("limit", 100);
		upp.addPara("n", 1000);
		upp.addPara("csrf_token", "nothing");
		return upp;
	}
	
	public static UrlParamPair SearchUrlList(String s) {
		UrlParamPair upp = new UrlParamPair();
		upp.addPara("ids", "["+s+"]");
		upp.addPara("br", 320000);
		upp.addPara("csrf_token", "nothing");
		return upp;
	}

}
```

- è·å–ä¸€é¦–æ­Œçš„è¯„è®º

```js
UrlParamPair upp = Api.getDetailOfPlaylist(music_id);
String req_str = upp.getParas().toJSONString();
response = Jsoup.connect("http://music.163.com/weapi/v1/resource/comments/R_SO_4_"+ music_id + "?csrf_token=")
		.userAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10.12; rv:57.0) Gecko/20100101 Firefox/57.0")
		.header("Accept", "*/*")
		.header("Cache-Control", "no-cache")
		.header("Connection", "keep-alive")
		.header("Host", "music.163.com")
		.header("Accept-Language", "zh-CN,en-US;q=0.7,en;q=0.3")
		.header("DNT", "1")
		.header("Pragma", "no-cache")
		.header("Content-Type", "application/x-www-form-urlencoded")
		.data(JSSecret.getDatas(req_str))
		.method(Connection.Method.POST).ignoreContentType(true)
		.timeout(15000).execute();
```


- è·å–ç”¨æˆ·çš„æ­Œå•

```js
UrlParamPair upp = Api.getPlaylistOfUser(String.valueOf(cuser.getUserId()));
String req_str = upp.getParas().toJSONString();
response = Jsoup.connect("http://music.163.com/weapi/user/playlist?csrf_token=")
		.userAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10.12; rv:57.0) Gecko/20100101 Firefox/57.0")
		.header("Accept", "*/*")
		.header("Cache-Control", "no-cache")
		.header("Connection", "keep-alive")
		.header("Host", "music.163.com")
		.header("Accept-Language", "zh-CN,en-US;q=0.7,en;q=0.3")
		.header("DNT", "1")
		.header("Pragma", "no-cache")
		.header("Content-Type", "application/x-www-form-urlencoded")
		.data(JSSecret.getDatas(req_str))
		.method(Connection.Method.POST).ignoreContentType(true)
		.timeout(15000).execute();
String list = response.body();
```


- è·å–éŸ³ä¹çš„æ’­æ”¾é“¾æ¥

```js
UrlParamPair upp = Api.SearchUrlList(String.valueOf(music_id));
String req_str = upp.getParas().toJSONString();
response = Jsoup.connect(
		.userAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10.12; rv:57.0) Gecko/20100101 Firefox/57.0")
		.header("Accept", "*/*").header("Cache-Control", "no-cache")
		.header("Connection", "keep-alive")
		.header("Host", "music.163.com")
		.header("Accept-Language", "zh-CN,en-US;q=0.7,en;q=0.3")
		.header("DNT", "1").header("Pragma", "no-cache")
		.header("Content-Type", "application/x-www-form-urlencoded")
		.data(JSSecret.getDatas(req_str))
		.method(Connection.Method.POST).ignoreContentType(true)
		.timeout(10000).execute();
String list = response.body();
```


ç­‰ç­‰è¿˜æœ‰ä¸€äº›å…¶ä»–çš„æ¥å£ï¼ŒåŠ å¯†çš„æ–¹å¼éƒ½æ˜¯ä¸€æ ·çš„ã€‚

### è§£ææ•°æ®ï¼ŒæŒä¹…åŒ–

æ¥å£è¿”å›çš„æ•°æ® **response.body();** æ˜¯ä¸€ä¸ªJsonå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥å¯¹å­—ç¬¦ä¸²è¿›è¡Œè§£æå³å¯å¾—åˆ°æ•°æ®ã€‚

è¿”å›çš„è¯„è®ºæ•°æ®

```
{"isMusician":false,
 "userId":-1,
 "topComments":[],
 "moreHot":true,
 "hotComments":[
çƒ­é—¨
{"user":{"locationInfo":null,"userId":384740724,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/3gOhLA71cNcXZYi-zxmZ4A==/109951163252233050.jpg","experts":null,"nickname":"ç”¨æˆ·å·²è¢«æŸ¥å°ä¸¶","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":5460,"time":1492040700361,"liked":false,"commentId":355257109,"content":"æ•°å­¦è€å¸ˆå†™ä¸‹ä¸€å¥è¯ï¼Œâ€œæˆ‘çˆ±ä½ â€ï¼Œè¦æ±‚æ”¹æˆé€†å¦å‘½é¢˜ã€‚ æˆ‘ä»¬éƒ½è¯´ï¼Œâ€œä½ ä¸çˆ±æˆ‘â€ â€œä¸æ˜¯çš„â€è€å¸ˆè¯´ã€‚ ä»–å…ˆæŠŠå®ƒå˜æˆäº†è¿™ç§å½¢å¼ï¼Œâ€œå¦‚æœæœ‰ä¸€ä¸ªäººæ˜¯æˆ‘ï¼Œé‚£ä¹ˆè¿™ä¸ªäººçˆ±ä½ ã€‚â€ è€å¸ˆæ¥ç€å¼€å§‹æ”¹é€†å¦å‘½é¢˜äº†ã€‚ æœ€åä¸€åˆ»ï¼Œä»–åœç¬”çš„ç¬é—´ï¼Œæ•™å®¤å¾ˆå®‰é™ã€‚ â€œå¦‚æœä¸€ä¸ªäººä¸çˆ±ä½ ï¼Œé‚£ä¹ˆï¼Œè¿™ä¸ªäººï¼Œä¸æ˜¯æˆ‘ã€‚"},
{"user":{"locationInfo":null,"userId":5776792,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/RXaSX8Pr6XG-AH4XvwAiaA==/18569651883453829.jpg","experts":null,"nickname":"èŒ¶èµ°å•¡èµ°","userType":0,"vipType":11},"beReplied":[],"pendantData":null,"likedCount":3859,"time":1412343342625,"liked":false,"commentId":4662836,"content":"æ—è¾¹çš„äººè·Ÿæœ‹å‹è§†é¢‘ç©é£è¡Œæ£‹ï¼Œè¿™é¦–æ­Œç¼“æ…¢çš„èŠ‚å¥æ­ç€ä»–ä»¬çš„å–§å“—å£°ï¼Œçªç„¶è«åå…¶å¦™å¥½éš¾è¿‡ï¼Œfor no reason."},
{"user":{"locationInfo":null,"userId":18031377,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/uzdrPFaDBmdxuXixkmpNZg==/3294136841961887.jpg","experts":null,"nickname":"CancerCathy","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":2673,"time":1412160724409,"liked":false,"commentId":4624564,"content":"åœ¨å›¾ä¹¦é¦†çªç„¶å¬åˆ°è¿™é¦–æ­Œï¼Œå¯ä»¥è¯‘æˆ ä¸”å¬é£åŸ ä¹ˆï¼Ÿå®‰é™ï¼Œè§¦åŠ¨äººå¿ƒï¼Œé™¤äº†æµæ³ªæ²¡æœ‰åˆ«çš„æ–¹å¼è¡¨è¾¾è¿™æ”¯æ›²å¸¦æ¥çš„æ„ŸåŠ¨ã€‚"},
{"user":{"locationInfo":null,"userId":9380975,"expertTags":["è½»éŸ³ä¹","æµè¡Œ"],"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/NMVictjyR-CW3Qwumegoyw==/109951162801439858.jpg","experts":null,"nickname":"Printing","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":2185,"time":1467345090514,"liked":false,"commentId":176888581,"content":"ï¼Œæˆ‘æœ¬å¯ä»¥å¿å—å­¤ç‹¬äº†ï¼Œè‡³æ­»çš„é‚£ç§ï¼Œä½†é‡åˆ°ä¸€ä¸ªäººï¼Œå°±ä¸è¡Œäº†ã€‚[å“€ä¼¤]"},
{"user":{"locationInfo":null,"userId":45913247,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/v8kJO2z5LEu6wLpoiECgxw==/7838418395141586.jpg","experts":null,"nickname":"é¸¿é›ä¸å½’æ„ç¼­ä¹±","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":2183,"time":1434881345541,"liked":false,"commentId":23023466,"content":"â€œç”±äºæ€€ç€çˆ±çš„å¸Œæœ›ï¼Œå­¤ç‹¬æ‰æ˜¯å¯ä»¥å¿å—çš„ï¼Œç”šè‡³æ˜¯ç”œèœœçš„ã€‚â€_å‘¨å›½å¹³ã€‚å¬é£åŸï¼Œé£å¹æš–ï¼Œå¿ƒæ˜¯æµ©æ¸ºï¼Œå¯ä»¥åœ¨æ–¹å¯¸ä¹‹åœ°æ— é™åˆ¶åœ°ç•…æƒ³ã€‚"},
{"user":{"locationInfo":null,"userId":59195546,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/PSFBiMxE6Og8QYgrreTaow==/109951163245284077.jpg","experts":null,"nickname":"æœˆåˆŠå°‘å¥³èƒ¡å°å–µ","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":1690,"time":1495441831537,"liked":false,"commentId":389664832,"content":"æˆ‘æ‰€æœ‰çš„è‡ªè´Ÿçš†æ¥è‡ªæˆ‘çš„è‡ªå‘ï¼Œæ‰€æœ‰çš„è‹±é›„æ°”æ¦‚éƒ½æ¥è‡ªäºæˆ‘çš„è½¯å¼±ã€‚å˜´é‡ŒæŒ¯æŒ¯æœ‰è¯æ˜¯å› ä¸ºå¿ƒé‡Œæ»¡æ˜¯æ€€ç–‘ï¼Œæ·±æƒ…æ˜¯å› ä¸ºç—›æ¨è‡ªå·±æ— æƒ…ã€‚è¿™ä¸–ç•Œæ²¡æœ‰ä¸€ä»¶äº‹æƒ…æ˜¯è™šç©ºè€Œç”Ÿçš„ï¼Œç«™åœ¨å…‰é‡Œï¼ŒèƒŒåå°±ä¼šæœ‰é˜´å½±ï¼Œè¿™æ·±å¤œé‡Œä¸€ç‰‡å¯‚é™ï¼Œæ˜¯å› ä¸ºä½ è¿˜æ²¡æœ‰å¬è§å£°éŸ³ã€‚"},
{"user":{"locationInfo":null,"userId":37621110,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/ELGZhDJG6OUakaG7zWOIJA==/3231464674454522.jpg","experts":null,"nickname":"å§å¤«å°¹","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":1186,"time":1415616481514,"liked":false,"commentId":5647901,"content":"ç”µå½±å«äº‘å›¾"},
{"user":{"locationInfo":null,"userId":32399294,"expertTags":["Bossa Nova","çˆµå£«","å¤å…¸"],"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/GEz-aqYB0OSs2VrFy9L0HA==/109951163026055373.jpg","experts":null,"nickname":"æ±Ÿæ²³æ•…äºº","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":834,"time":1430975381469,"liked":false,"commentId":17475824,"content":"æé™æå¯‚"},
{"user":{"locationInfo":null,"userId":264931387,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/VnZiScyynLG7atLIZ2YPkw==/18686200114669622.jpg","experts":null,"nickname":"å¸å·å·²æ³¨é”€","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":770,"time":1490680489127,"liked":false,"commentId":341041910,"content":"çœ‹é€™é¦–æ­Œçš„è©•è«–å°±åƒçœ‹ä¸€å€‹äººçš„å‚·å£ä¸€æ¨£ï¼Œè‡ªå·±éƒ½ç–¼ã€‚"},
{"user":{"locationInfo":null,"userId":239907,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/cMldetUmk9S-Ev3N-W_RnA==/109951162862405439.jpg","experts":null,"nickname":"äº‘æ±èŠ±å¼€","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":700,"time":1434811237589,"liked":false,"commentId":22933319,"content":"é£åœ¨å¤œç©ºä¸‹æ­Œå”±ï¼Œæ˜Ÿæ˜Ÿé™è½åœ¨æ¹–é¢ï¼Œé±¼å„¿éƒ½ç¡äº†ï¼Œä½ çš„æ²‰é»˜å¦‚å¤§æµ·ã€‚æ™šå®‰[çˆ±å¿ƒ]"},
{"user":{"locationInfo":null,"userId":344851685,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/2LFUt8tbi4_hq_45mqLjlQ==/109951163097694688.jpg","experts":null,"nickname":"é“­ç©ºé—´","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":687,"time":1507645813912,"liked":false,"commentId":582013988,"content":"æ‰€æœ‰äººéƒ½è¿‘ä¹å‘ç–¯ï¼Œè¿è½¬æœºå™¨çš„é½¿è½®è´¹åŠ›è½¬åŠ¨çš„å¿«è¦é™æ­¢ï¼Œæ²¡æœ‰åœé¡¿çš„ç©ºé—´ã€‚ä»–ä»¬æ²¡æœ‰ä¹è¶£ï¼Œé˜³å…‰ç…§åœ¨èƒŒé¢ï¼Œé£å¹æ¥åªæœ‰å†°å‡‰ï¼Œé£Ÿç‰©çš„è‰²å‘³é»¯æ·¡ï¼Œä»–ä»¬æ— è¯å¯è¯´ï¼Œç­‰å¾…é’Ÿè¡¨æŒ‡é’ˆçš„åˆ’åŠ¨ï¼Œå·¦æ‰‹æ’åœ¨å£è¢‹ï¼Œå³æ‰‹ä¸ºå®ƒæ’‘ä¼ï¼Œå®ƒ(ä¸–ç•Œ)ä¿—ä¸å¯è€ã€‚ â€‹â€‹â€‹"},
{"user":{"locationInfo":null,"userId":55044793,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/6Ews95Sp0YCbHR7pwtDOHg==/18833534674307181.jpg","experts":null,"nickname":"Booyan","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":547,"time":1427905470801,"liked":false,"commentId":14068188,"content":"æ—¢å®šçš„å‘½è¿ï¼Œå¦‚ä½•å»æŒ£æ‰"},
{"user":{"locationInfo":null,"userId":34278757,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/sgc4gV1UiwXuRgf6Xs1iKQ==/18909400975016242.jpg","experts":null,"nickname":"å…­é…±é…±é…±é…±","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":465,"time":1424002099840,"liked":false,"commentId":10848330,"content":"æ™´ç©ºå¯‚å¤œï¼Œæ˜Ÿè¾°ç’€ç’¨"},
{"user":{"locationInfo":null,"userId":33558127,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/1nBzLadqVHMltEEHU3KwmQ==/1394180746807747.jpg","experts":null,"nickname":"å®ˆå€™ll","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":373,"time":1422534418361,"liked":false,"commentId":9677101,"content":"å°é¢çš„OVI æƒ³èµ·äº†è¯ºåŸºäºš[æµæ„Ÿ]"},
{"user":{"locationInfo":null,"userId":59130904,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/a7XVjh_tIzQCv7yQKkrg-Q==/109951162939131254.jpg","experts":null,"nickname":"éˆ´æœ¨å®¶çš„å†¬å¤©å’Œå¤å¤©","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":253,"time":1434815009718,"liked":false,"commentId":22935784,"content":"ä¸€é˜µä¸€é˜µçš„æµ·é£æ€»å¸¦ç€å’¸å’¸çš„å‘³é“ï¼Œæµ·æµªæ²¡æœ‰è§„å¾‹çš„æ‹æ‰“ç€ç¤çŸ³ï¼Œæˆ‘ä¸€å›è¿‡å¤´ï¼Œä¾¿çœ‹åˆ°å¯¹æˆ‘å¾®ç¬‘çš„ä½ â€¦â€¦"}],

"code":200,
"comments":[
æ™®é€šè¯„è®ºï¼Œç¬¬ä¸€é¡µçš„æ•°æ®
{"user":{"locationInfo":null,"userId":510418565,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/tEdQo8xtxqQ60kreNgMUtQ==/19135900370044951.jpg","experts":null,"nickname":"æ±Ÿå—é’å±±","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":0,"time":1524554545101,"liked":false,"commentId":1096091063,"content":"ä½ çš„æ¯¡å¸½çœ‹èµ·æ¥çœŸçš„å¤ªå‚»äº†ã€‚","isRemoveHotComment":false},
{"user":{"locationInfo":null,"userId":579791324,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/3kgEEUzuF7-EZDhewJRffw==/109951163183716247.jpg","experts":null,"nickname":"æ‘‡æ»šå½±é­”","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":0,"time":1524545934551,"liked":false,"commentId":1095982234,"content":"ä¸§å¤± è¶Šå è¶Šæ·±","isRemoveHotComment":false},
{"user":{"locationInfo":null,"userId":326392811,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/l_FpB7_isCGBWvhqcJRi0w==/109951163035801434.jpg","experts":null,"nickname":"Loliiitaa","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":0,"time":1524542061606,"liked":false,"commentId":1095922450,"content":"æœˆå…‰æŸ”å’Œçš„æ´’åœ¨æ·±å¤œçš„æµ·ä¸Š æˆ‘ç‹¬è‡ªä¸€äºº èµ°åœ¨æµ·è¾¹ å¬ç€ æµ·æµªå·ç€é£çš„å£°éŸ³","isRemoveHotComment":false},
{"user":{"locationInfo":null,"userId":326392811,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/l_FpB7_isCGBWvhqcJRi0w==/109951163035801434.jpg","experts":null,"nickname":"Loliiitaa","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":0,"time":1524542001889,"liked":false,"commentId":1095947719,"content":"æ„Ÿè§‰ åƒè‡ªå·±æ·±å¤œèµ°åœ¨æµ·è¾¹","isRemoveHotComment":false},
{"user":{"locationInfo":null,"userId":345764368,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/Gm_GxmvppzPkUjCqIqxleQ==/109951163255574336.jpg","experts":null,"nickname":"Hcksbfoo","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":0,"time":1524525440787,"liked":false,"commentId":1095789763,"content":"é£ä¹‹æ­Œ","isRemoveHotComment":false},
{"user":{"locationInfo":null,"userId":617752356,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/h-V5R8ZqYtbzCY6U_c6QSw==/109951163235061890.jpg","experts":null,"nickname":"æ¸©æŸ”åé‡Œ","userType":0,"vipType":0},"beReplied":[{"user":{"locationInfo":null,"userId":1386098665,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/j_pZyoeVeDFmuSWsolKu0w==/109951163170393931.jpg","experts":null,"nickname":"æ­¤å»ç»å¹´_ä»¥é£ä¸ºä¼´","userType":0,"vipType":0},"content":"å…„å¼Ÿä¸‹æ¬¡å–é…’å«ä¸Šæˆ‘ï¼","status":0}],"pendantData":null,"likedCount":0,"time":1524482448296,"liked":false,"commentId":1095217048,"content":"å¯ä»¥çš„","isRemoveHotComment":false},
{"user":{"locationInfo":null,"userId":98606695,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/UziAMRtA90NACSpUMLNWVQ==/1374389538563091.jpg","experts":null,"nickname":"ç¹å-æµå°½","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":1,"time":1524413150159,"liked":false,"commentId":1094556769,"content":"æœ‰äº›æ­Œåªé€‚åˆè€³æœºå¬","isRemoveHotComment":false},
{"user":{"locationInfo":null,"userId":115223202,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/2bHVnmThHaULSu4GXLJOiw==/109951163262581818.jpg","experts":null,"nickname":"Sleene_","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":1,"time":1524403728123,"liked":false,"commentId":1094288222,"content":"å¸Œæœ›æˆ‘ä»¬éƒ½èƒ½æˆ˜èƒœææƒ§ã€‚æˆ˜èƒœè‡ªå·±ã€‚è¿‡å¥½è¿™ä¸€ç”Ÿã€‚","isRemoveHotComment":false},
{"user":{"locationInfo":null,"userId":1386098665,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/j_pZyoeVeDFmuSWsolKu0w==/109951163170393931.jpg","experts":null,"nickname":"æ­¤å»ç»å¹´_ä»¥é£ä¸ºä¼´","userType":0,"vipType":0},"beReplied":[{"user":{"locationInfo":null,"userId":617752356,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/h-V5R8ZqYtbzCY6U_c6QSw==/109951163235061890.jpg","experts":null,"nickname":"æ¸©æŸ”åé‡Œ","userType":0,"vipType":0},"content":"ä¸€ä¸ªäººå¬æ­Œï¼Œä¸€ä¸ªäººå–é…’ï¼Œä¸€ä¸ªæ²¡æœ‹å‹çš„äºº","status":0}],"pendantData":null,"likedCount":0,"time":1524398358977,"liked":false,"commentId":1094196973,"content":"å…„å¼Ÿä¸‹æ¬¡å–é…’å«ä¸Šæˆ‘ï¼","isRemoveHotComment":false},
{"user":{"locationInfo":null,"userId":274515919,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/Af9KBESoIvc1xHBAdhAm4A==/19220562765600543.jpg","experts":null,"nickname":"Maestro-Music","userType":0,"vipType":10},"beReplied":[{"user":{"locationInfo":null,"userId":55044793,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/6Ews95Sp0YCbHR7pwtDOHg==/18833534674307181.jpg","experts":null,"nickname":"Booyan","userType":0,"vipType":0},"content":"æ—¢å®šçš„å‘½è¿ï¼Œå¦‚ä½•å»æŒ£æ‰","status":0}],"pendantData":null,"likedCount":0,"time":1524386537072,"liked":false,"commentId":1093983220,"content":"è¿‡å»å·²å®šï¼Œæœªæ¥å¯æœŸ","isRemoveHotComment":false},
{"user":{"locationInfo":null,"userId":73990126,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/igue_V12v1Snm6Fjw1NBJA==/109951163265396234.jpg","experts":null,"nickname":"ä¸å«ç¾äºº","userType":0,"vipType":11},"beReplied":[],"pendantData":null,"likedCount":0,"time":1524386417552,"liked":false,"commentId":1093975287,"content":"æˆ‘æ˜¯çœŸçš„å¤ªå·®äº†å—â€¦","isRemoveHotComment":false},
{"user":{"locationInfo":null,"userId":479453291,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/Kqw4ZfTs1KmPHCM7AKEOAQ==/109951163147366555.jpg","experts":null,"nickname":"èŒ—å°šæ¸©","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":0,"time":1524383671520,"liked":false,"commentId":1093955801,"content":"Do not leave me.","isRemoveHotComment":false},
{"user":{"locationInfo":null,"userId":617752356,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/h-V5R8ZqYtbzCY6U_c6QSw==/109951163235061890.jpg","experts":null,"nickname":"æ¸©æŸ”åé‡Œ","userType":0,"vipType":0},"beReplied":[{"user":{"locationInfo":null,"userId":319860700,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/N4YQEHJfj-EcCtHipEtPvQ==/18710389369923911.jpg","experts":null,"nickname":"èµ›å®¾æ–¯åŸº","userType":0,"vipType":0},"content":"ä¸€ä¸ªäººå”±æ­Œï¼Œä¸€ä¸ªäººå»åŒ»é™¢ï¼Œä¸€ä¸ªäººæ¬å®¶","status":0}],"pendantData":null,"likedCount":1,"time":1524382342088,"liked":false,"commentId":1093913356,"content":"ä¸€ä¸ªäººå¬æ­Œï¼Œä¸€ä¸ªäººå–é…’ï¼Œä¸€ä¸ªæ²¡æœ‹å‹çš„äºº","isRemoveHotComment":false},
{"user":{"locationInfo":null,"userId":607498344,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/RitAIt1ATd8V9QkSyd60XQ==/18626826488197471.jpg","experts":null,"nickname":"å“å¿˜äº†TAå§","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":0,"time":1524374076845,"liked":false,"commentId":1093761237,"content":"æˆ‘ä¸€ç›´çŸ¥é“æˆ‘æ²¡æœ‰ä½ ","isRemoveHotComment":false},
{"user":{"locationInfo":null,"userId":117486376,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/x6gyrTDMTKQjwJbPYyC1hw==/18810444930168248.jpg","experts":null,"nickname":"M-limi","userType":0,"vipType":0},"beReplied":[{"user":{"locationInfo":null,"userId":5776792,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/RXaSX8Pr6XG-AH4XvwAiaA==/18569651883453829.jpg","experts":null,"nickname":"èŒ¶èµ°å•¡èµ°","userType":0,"vipType":11},"content":"æ—è¾¹çš„äººè·Ÿæœ‹å‹è§†é¢‘ç©é£è¡Œæ£‹ï¼Œè¿™é¦–æ­Œç¼“æ…¢çš„èŠ‚å¥æ­ç€ä»–ä»¬çš„å–§å“—å£°ï¼Œçªç„¶è«åå…¶å¦™å¥½éš¾è¿‡ï¼Œfor no reason.","status":0}],"pendantData":null,"likedCount":1,"time":1524367091289,"liked":false,"commentId":1093641809,"content":"è¿™çƒ­é—¹æ˜¯ä»–ä»¬çš„ï¼Œè€Œæˆ‘ä»€ä¹ˆéƒ½æ²¡æœ‰","isRemoveHotComment":false},
{"user":{"locationInfo":null,"userId":397071462,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/Md2mgXaeYm7ddMR3Bc_kow==/109951163256049218.jpg","experts":null,"nickname":"7_AM","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":0,"time":1524323630464,"liked":false,"commentId":1093145762,"content":"æ¥è¿‡","isRemoveHotComment":false},
{"user":{"locationInfo":null,"userId":395211866,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/5kFG5jLeKpp4e3WwuTSd_Q==/19047939439980971.jpg","experts":null,"nickname":"æä»å¥¶ç³–è´©å–æœº","userType":0,"vipType":0},"beReplied":[{"user":{"locationInfo":null,"userId":384740724,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/3gOhLA71cNcXZYi-zxmZ4A==/109951163252233050.jpg","experts":null,"nickname":"ç”¨æˆ·å·²è¢«æŸ¥å°ä¸¶","userType":0,"vipType":0},"content":"æ•°å­¦è€å¸ˆå†™ä¸‹ä¸€å¥è¯ï¼Œâ€œæˆ‘çˆ±ä½ â€ï¼Œè¦æ±‚æ”¹æˆé€†å¦å‘½é¢˜ã€‚ æˆ‘ä»¬éƒ½è¯´ï¼Œâ€œä½ ä¸çˆ±æˆ‘â€ â€œä¸æ˜¯çš„â€è€å¸ˆè¯´ã€‚ ä»–å…ˆæŠŠå®ƒå˜æˆäº†è¿™ç§å½¢å¼ï¼Œâ€œå¦‚æœæœ‰ä¸€ä¸ªäººæ˜¯æˆ‘ï¼Œé‚£ä¹ˆè¿™ä¸ªäººçˆ±ä½ ã€‚â€ è€å¸ˆæ¥ç€å¼€å§‹æ”¹é€†å¦å‘½é¢˜äº†ã€‚ æœ€åä¸€åˆ»ï¼Œä»–åœç¬”çš„ç¬é—´ï¼Œæ•™å®¤å¾ˆå®‰é™ã€‚ â€œå¦‚æœä¸€ä¸ªäººä¸çˆ±ä½ ï¼Œé‚£ä¹ˆï¼Œè¿™ä¸ªäººï¼Œä¸æ˜¯æˆ‘ã€‚","status":0}],"pendantData":null,"likedCount":0,"time":1524320125653,"liked":false,"commentId":1093032143,"content":"è¡¥å……ä¸€å¥åŸå‘½é¢˜å’Œé€†å¦å‘½é¢˜çš„çœŸå‡æ€§ç›¸åŒ","isRemoveHotComment":false},
{"user":{"locationInfo":null,"userId":447931805,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/1OFPepVr8LXWw6mIz12V-A==/18801648837040171.jpg","experts":null,"nickname":"ä½ çš„é˜¿ç‘¾","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":1,"time":1524299928911,"liked":false,"commentId":1092616264,"content":"æˆ‘è¿˜æ˜¯ä¸€ä¸ªäºº","isRemoveHotComment":false},
{"user":{"locationInfo":null,"userId":543625535,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/6ASkHhwgRfD7CY8cGqr8LQ==/19194174486243100.jpg","experts":null,"nickname":"Higanbanaè°¶","userType":0,"vipType":11},"beReplied":[],"pendantData":null,"likedCount":2,"time":1524275874497,"liked":false,"commentId":1092165317,"content":"æˆ‘æŠŠè¿™é¦–æ­Œæ¨èç»™ä»–ã€‚\nä»–é—®æˆ‘ï¼šä½ å®³æ€•å­¤ç‹¬å—ï¼Ÿ\næˆ‘è¯´ï¼šè¯´ä¸å®³æ€•æ˜¯å‡çš„ã€‚ğŸ’”","isRemoveHotComment":false},
{"user":{"locationInfo":null,"userId":410376991,"expertTags":null,"authStatus":0,"remarkName":null,"avatarUrl":"http://p1.music.126.net/AP2SAMpRexuV8ycHAh4cVQ==/109951163248461907.jpg","experts":null,"nickname":"ä¸€çµ²ä¸€æ¯«çš„é›²","userType":0,"vipType":0},"beReplied":[],"pendantData":null,"likedCount":0,"time":1524273260420,"liked":false,"commentId":1092143593,"content":"è½è‘—å¥½é›£å—","isRemoveHotComment":false}],"total":4367,"more":true}
```

å¯¹æ•°æ®è¿›è¡Œè§£æå°±å¯ä»¥äº†

```js
JSONObject j = new JSONObject(response.body());
JSONArray a = (JSONArray) j.get("comments");
Iterator<Object> hot = a.iterator();
while (hot.hasNext()) {
	CloudComment hotMent = new CloudComment();
	JSONObject obj = (JSONObject) hot.next();
	hotMent.setCommentId(obj.getLong("commentId"));
	hotMent.setTime(obj.getLong("time"));
	hotMent.setLikedCount(obj.getInt("likedCount"));
	hotMent.setContent(obj.getString("content"));
	JSONObject u = new JSONObject(obj.get("user").toString());			
	hotMent.setUserId(u.getLong("userId"));			
	if(!Insert.getInstance().get(obj.getLong("commentId"))){
		Insert.getInstance().insert(CloudComment.class,hotMent);
	}			
	CloudUser user = new CloudUser();		
	user.setUserId(u.getLong("userId"));
	user.setAvatarUrl(u.getString("avatarUrl"));
	user.setNickname(u.getString("nickname"));
	user.setVipType(u.getInt("vipType"));
	user.setUserType(u.getInt("userType"));
	if(!Insert.getInstance().getListByCondit(user.getUserId())){
		CloudUser usr = update(user);
		Insert.getInstance().insert(CloudUser.class,usr);
		System.out.println("æœ¬æ¬¡æˆåŠŸå·²çˆ¬å–æ•°æ® "+(count++)+" æ¡");
	}
}
```