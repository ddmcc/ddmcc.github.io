---

layout: post
title:  "String"
date:   2021-02-14 15:18:23
categories: Java基础
tags:  String
author: ddmcc
---

* content
{:toc}


### **什么是不可变对象**

       众所周知，`String` 对象是不可变的。那么什么是不可变对象呢？在 [Java教程](https://docs.oracle.com/javase/tutorial/essential/concurrency/immutable.html) 中定义：**如果一个对象在构造后状态无法改变，则该对象被视为不可变。**

>不能改变状态的意思是，不能改变对象内的成员变量，包括基本数据类型的值不能改变，引用类型的变量不能指向其他的对象，引用类型指向的对象的状态也不能改变。




### **不可变对象的遵守策略（规则）**

- 类中所有字段都被 `final` 修饰，并且是私有的，也就是被 `private` 修饰。
- 不能提供修改字段或字段引用对象的 `setter` 方法。
- 不允许子类重写方法
- 如果实例字段包含对可变对象的引用，则不允许更改这些对象：
  - 不要提供修改可变对象的方法。
  - 不要直接返回可变对象的引用。如有必要，可创建内部可变对象的副本，并返回可变对象的副本。
  
  

### **参考资料**

[定义不可变对象的策略](https://docs.oracle.com/javase/tutorial/essential/concurrency/imstrat.html)

[为什么String在java中是不可变的？](https://www.zhihu.com/question/336799824/answer/763164656)