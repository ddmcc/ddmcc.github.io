---
layout: post
title:  "深入理解jvm"
date:  2019-12-30 21:31:00
categories:jvm
tags:  jvm
author: ddmcc
---

* content
{:toc}



上一篇已经介绍了 [jvm运行时数据区](https://ddmcc.space/2019/08/19/understanding-jvm-1/) ，下面将学习垃圾收集器和内存分配与回收策略




**为什么要了解gc和内存分配呢？**

- 当需要排查各种内存溢出、内存泄漏问题时
- 当垃圾收集成为系统达到更高并发量的瓶颈时


## 下面是灵魂拷问


- 哪些内存需要回收？
- 什么时候回收？
- 怎么回收？


### 哪些内存需要回收


 　　在运行区域中，程序计数器，虚拟机栈，本地方法栈三个区域随线程而生，随线程而灭，栈中的栈帧随着方法的进入和退出进行入栈出栈操作，每一个栈帧 **在类结构确定下来就已确定了大小** 因此这几个区域的分配和回收是具有确定性的。不考虑回收的问题


> 一个栈帧就是一个方法，方法内创建的对象只是引用变量在栈中并且大小基本是固定的。当类结构确定时，需要创建多少变量以及方法调用都已经确定了


Java堆和方法区则不一样，一个接口中的多个实现类需要的内存





### 什么时候回收

### 回收的策略与算法



