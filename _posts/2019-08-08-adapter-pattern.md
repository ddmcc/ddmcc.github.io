---
layout: post
title:  "设计模式之适配器模式"
date:   2019-08-08 20:51:20
categories: 设计模式
tags:  设计模式 适配器模式
author: ddmcc
---

* content
{:toc}


## 定义

将一个类的接口转换成使用者所期望的另一个接口。适配器让原本接口不兼容的类可以合作无间。

**上面这句话解释就是使用者要求的接口与提供的接口不一致，所以在它们在中间加了一个适配器类，适配器所的接口是符合要求的。在适配器接口中调用所提供的接口，并解决两者之间的差异**





## 类适配器与对象适配器

适配器模式分为对象适配器和类适配器，下面是类图

---
#### 对象适配器

![](https://i.loli.net/2019/08/08/iuboUjrYZKIpAQm.png)


---
#### 类适配器

![](https://i.loli.net/2019/08/08/ONXbIotK6Cvy98f.png)


---
适配器模式主要分为四个角色

Client：接口调用者

Target：目标接口（调用者需要的接口）

Adapter：适配器用于包装转换被适配者

Adaptee：被适配者（实际提供的接口）


解释一下类图是这样的：

客户端：我要调用`operation`方法

Adaptee：没有，只有`method`方法

客户端：我就要`operation`方法！

Adaptee：没有，快滚！

![](https://i.loli.net/2019/08/08/BqM2eryRhnbzV6L.png)

然后它们就打起来了....


这时和事老适配器兄出现了，将它们拉开。

**适配器实现了目标接口的operation方法，当收到请求时，再委托或转接给被适配者**



---
#### 两者区别

它们两的区别就是对象适配器使用了**组合**的方式，而类适配器使用了继承的方式（因为不支持多继承，所以实现Target）。这两种实现的所产生的差异就是
使用组合的对象适配器更有弹性，它不仅适配了该适配者，适配者的子类也适配了。而类适配者的好处是因为使用的是继承，所以可以不需要重新实现整个被适配者（这边的
意思是如果有不需要适配的接口，即接口方法名，参数什么的都和Target里的一致，则不需要重写）。当然也可以重写父类的方法。



## 来个栗子


······························································································